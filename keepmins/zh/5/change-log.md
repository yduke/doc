# 更新记录

## 时光捕手2.9.9.8.14

2022年09月04日

- 对首页发布框进行了一些重新布局。
- 对文章的动作按钮做了一些重新布局。
- 修复了一个疑似会导致摘要缩进失败的错误。
- 对一些图标的html代码进行规范化。
- 状态文章现在可以通过点击展开或收缩内容。
- 对状态文章点赞。
- 访客可以设置临时身份，以便于在点赞和评论时留下身份信息。
- 添加社区黑名单功能。
- 注册页面的地址将由程序获取，所以不再需要手动输入选项。
- 在时光捕手API中添加状态文章的状态名称。



## 时光捕手2.9.9.8.9

2022年08月27日

- 重制了撰写界面按钮的布局，放大了动作按钮尺寸
- 创建日志界面增加了取消按钮，当关闭或取消时恢复撰写界面默认状态
- 调整emoji按钮、签到按钮、天气指示图标的位置
- 调整了撰写界面地理位置地址和设备名称的文字大小
- 阻止前端加载dash-icon图标样式
- 调整了投票界面各选项的悬停背景颜色
- 优化了文章、页面分页符分页后的导航按钮
- 在不需要Infinite scroll的页面不再执行Infinite Scroll
- 修复了Infinite Scroll加载到新的视频和声音文件不显示的问题
- emoji CDN新增unicode选项，以使用客户端系统内置emoji
- 创建了新的api以接受从外部发起的点赞请求
- 防止同一个点赞人信息重复出现
- 调整了强制登陆界面的UI尺寸和布局
- 在各登录界面登录失败后，不再跳转到WordPress原始登录界面，而是发送一条通知
- 汉化了弹出层的OK按钮
- 脚本文件中旧的已弃用格式替换为现行格式
- 所有登录和注册界面的密码输入框禁止自动完成
- 提示用户关闭登录后的顶部Adminbar
- 社区页面优化引用文章样式
- RTL样式优化



## 时光捕手2.9.9.8.4

2022年08月24日

- Infinite Scroll脚本更新至最新版；
- 搜索页面和归档页面也支持Infinite Scroll了；
- 增加大量日志文章图标，并分组；
- 统计页面增加按用户统计日志文章每个事件的次数；
- 创建投票和创建列表改为使用弹出层形式。



## 时光捕手2.9.9.7.3

2022年08月03日

- 社区页面添加喜欢按钮；
- 增加转发文章的标题判断；
- 增加强制登录才能查看功能；
- 增加了常用文字格式按钮；



## 时光捕手2.9.9.7.2

2022年06月19日

- 修正了资源路径错误，压缩了Javascript文件；
- 相册图片采用medium尺寸，降低图片流量消耗；
- 增加长图指示器；
- 缩短了页面加载超时阈值；



## 时光捕手2.9.9.7

2022年06月07日

- 修正了新相册样式在无限滚动下的错误；
- 修正了相册和图片的圆角样式；
- 修正头部封面图片地址；
- 适配自适应图片，相册在上传后自动选择较低分辨率；



## 时光捕手2.9.9.6

2022年05月30日

- 竖向视频缩减尺寸；
- 适配新版WordPress，修正了相册样式。



## 时光捕手2.9.9.5

2022年05月18日

- 添加进度条<progress>样式；
- 优化了editor style；
- 关闭了小工具区块编辑器；
- 添加了主题选项以供选择合适的emoji CDN源



## 时光捕手2.9.9.2

2022年04月07日

- 修复相册图像被点击后高度会变化的bug；
- 删掉了一些不必要的样式。



## 时光捕手2.9.9.1

2022年03月02日

- 代码和预格式适配新的WordPress block样式，并可以复制；

- 删除旧的图标及样式。

  

## 时光捕手2.9.9

2022年03月01日

- 适配新的WordPress相册代码格式，兼容旧的相册格式；
- 文章内容不再自动添加p标签;
- jquery 和部分JavaScript CDN改为 cdn.staticfile.org；
- 阅读更多按钮居中放置。



## 时光捕手2.9.8.6

2022年02月08日

- 删除了标签组页面里的大量说明文字
- 日志文章（小状态）将不能包含图片
- 修正了ReadMe.txt里的拼写错误
- 修正了备案图标的文件地址
- 优化了获取设备信息的逻辑



## 时光捕手2.9.8.5.2

2022年01月27日

- 修正了因Minify导致的一些bug；
- 修正了编辑评论的Ajax错误表现；
- WordPress默认的注册页面重定向至内置注册模板页；
- 更新了手机型号侦测脚本；
- 修正了主题选项页在手机上的不正确样式；
- 修正了投票的脚本错误；
- 大量修正之前的拼写错误。



## 时光捕手**2.9.8.5**

2022年01月16日

- 重写了RTL样式；
- 新增 阿拉伯语（Ar） 语言包；
- 重新组织了文件结构；
- 新增“投票功能”；
- 大量bug修复，删除大量弃用文件或代码段。



## 时光捕手**2.9.8.4**

2021年12月30日

- 用户注册模板；
- manifest.json改为php处理以适配不同网站使用。



## 时光捕手**2.9.8.3**

2021年12月20日

- 移除了表格的高度，自适应；
- 修复了一些样式的错误；
- 图片LightBox点击效果脚本更新至最新版；
- 对话UI增加了提示文字。



## 时光捕手**2.9.8.2**

2021年12月04日

- 修复了在文章单页上点击“转发”按钮无效的错误。



## 时光捕手**2.9.8.1**

2021年11月14日

- 增加对.mov视频格式的支持；
- 完善了签到地图短代码。



## 时光捕手2.9.8

2021年10月14日

- 修复了签到静态地图在移动设备下的错误显示；
- 修复了页面在移动设备下过大的边距；
- 加入社区的REST API检测改为现有自定义地址。



## 时光捕手**2.9.7.9.9**

2021年10月12日

- 修复了社区中的标签链接；
- 修复了因SSL问题造成无法获取社区内容的错误；
- 完善了标签数目的显示方式和包含内置标签的显示方式；
- 更新了天气api的接入点，旧的接入点即将弃用；
- 一些样式的完善。



## 时光捕手**2.9.7.9.7**

2021年09月25日

- 由于社区数据所在的CDN时不时抽风，目前已将数据转移至本地；
- 不再使用WordPress默认的REST，而是依靠上个版本自定义的REST输出社区内容；
- API中加入了站点地址的栏位；
- 社区现在可以显示标签了；
- 社区中的日志可以正确处理“空白”动作了；
- 完善了“登陆才能评论”的外观。



## 时光捕手**2.9.7.9.5**

2021年09月23日

- 当浏览器转换图片到Webp失败或不能转换，上传图片后服务端调用GD或Imagic转换图片为webp；
- 当有评论身份或注册用户点赞时，点赞人将被记录并展示；
- [社区]为提升速度和处理能力，添加了自定义REST API，将在下个版本正式使用；
- [社区]点击评论图标后，打开的单页将自动打开并聚焦评论框；
- 站点“主题颜色”变更为黑色；
- 多处样式调整优化。



## 时光捕手**2.9.7.9.4**

2021年09月14日

- 修复了社区模板的图片及链接错误；
- 修复了个人资料页顶部图片的错误；
- 文章内容样式重写；
- 文章内容的换行和段落采用新的处理机制；
- 转发功能现在可以显示标签了。



## 时光捕手**2.9.7.9.2**

2021年09月09日

- 新增了“社区”功能，包含“社区”页面模板；
- 增加了个人资料的“年龄”项；



## 时光捕手2.9.7.9

2021年09月04日

- 新增了“转发”功能；
- 新增了“日志”（小状态）功能；
- 由于iOS上的Safari不支持webp转换，故增加了判断，在iOS设备发布的图片会被转成jpg。其余平台在图片上传之前会转为webp。
- 完善了一些旧的样式。

### 转发

- 转发会对所有已发布的文章及页面生效；
- 当原文章被彻底删除时，转发的内容也会失效；
- 转发可以无限嵌套。

### 日志 小状态 Aside

- 小状态为单独的文章格式；
- 可以在无文章内容的情况下发布；
- 除默认的“空白”外，其余状态会自动添加状态说明。

![img](..\assets\cn.png)





## 时光捕手2.9.7.8

2021年08月05日

- 修复了因为天气API变更导致无法获取天气数据的问题。



## 时光捕手2.9.7.7

2021年08月04日

- 防止访客评论使用管理员的用户名和email；
- 适配Wordpress 5.8修复了一些区块样式；



## 时光捕手2.9.7.6

2021年07月22日

- 完善了通过评论URL 高亮指定评论的脚本；
- 改为PHP侦测IE，在非IE浏览器不输出警告文本到html代码中；
- 修正了一些侧边栏小工具的bug；
- 小屏幕、手机样式完善，扩宽了图片、相册的宽度；
- 前端上传的图片自动转换为webp，缩减文件大小，节约流量；（需要 WordPress 5.8）
- 完善翻译。



## 时光捕手2.9.7.5

2021年07月12日

- 为所有页面模板中的图片适配Wordpress原生lazyload；
- 优化深色模式下的wp-block-cover元素；
- 更新JavaScripts进一步防止视频和音频被下载；
- 添加了从外部CDN载入主jQuery的选项；
- 头部SEO优化；
- 添加左右侧边栏（beta）；
- 移除了html标题过滤，因为WordPress自己在处理了；
- 增加了缺失必要依赖插件的后台提示；
- 视频输入框增加封面、标题；
- 优化了输入框的样式；
- 移除了阅读数字的后缀，新安装不再需要设置Wp-post-views插件。



## 时光捕手2.9.7.4

2021年06月22日

- 相册的样式进行了调整，更加突出内容；
- 移动设备的文字不再放大；
- 图片灯箱脚本更新至最新；
- 灯箱现在可以在同一文章里导航上一张下一张了；
- 灯箱显示图片总数及文章标题；
- [隐私]不再在本地保存地理位置；
- 引用样式微调；
- 优化了标签显示。



## 时光捕手2.9.7.3

2021年06月10日

- 增加了滚动淡出效果；
- 压缩了主要JavaScript文件；
- 修复了一些bug。



## 时光捕手2.9.7.2

2021年06月04日

- 略微扩大了内容区域的宽度占比
- 视频的宽度在手机上变更为占全宽
- 添加了inwao、china-yes、loli.net三个GravatarCDN，去掉了原有的v2ex和左岸



## 时光捕手2.9.7.1

2021年05月27日

- 完善了图片在小屏幕上的显示样式
- 添加了获取图像的功能
- 美化了视频字幕的样式
- 防止发布的视频被轻易下载
- 支持PHP8的准备工作，修复了诸多兼容性
- 完善了激活和鉴权流程
- 更新翻译



## 时光捕手2.9.7

2021年02月18日

- 解决了“标签组”中，标签缩略图的长宽比被拉伸的问题。
- 完善了浏览器本地通知。
- 仪表盘中，主题支持小工具功能增强，提供下载及文档链接，加入版权声明。



## 时光捕手2.9.6.8

2020年12月09日

- 修复了图片lightbox特效在新版WordPress中的错误。



## 时光捕手2.9.6.6

2020年12月03日

- 修复了对话文章在搜索结果中的错误样式。
- 修复了缩略图没有底部圆角的错误。
- 网页通知将不会再出现链接代码。
- 评论样式优化。



## 时光捕手2.9.6.5

2020年10月08日

- 修复了一个导致后台菜单不展开的错误，此错误是由用户背景图像上传控件导致的。
- 更新了发布API，修复了“未定义”标签的错误。
- 标签组模版新增“热门标签”和“最新标签”。



## 时光捕手2.9.6.4

2020年10月07日

- 解决标签组带来的session性能问题；
- 标签组页面模板样式优化；
- 标签页下创建按钮此时能正常显示了；
- 修复了所有页面都会加载媒体库脚本的问题；
- 优化了作者页在移动端屏幕的样式；
- 添加了是否从CDN载入必要样式和脚本的选项;
- 优化了主题选项页面的文字说明。



## 时光捕手2.9.6.3

2020年09月21日

- 增加自定义Logo图片的功能，在 外观 – > 自定义 – > 站点身份 处。



## 时光捕手2.9.6.2

2020年09月14日

### 标签功能升级

- 标签可以添加特色图像，并且在标签页顶部展示;
- 标签分组功能：创建标签组，并将多个标签指定到一个分组；
- 新增标签分组页面模板；
- 标签页新增按钮，创建属于此标签的文章；
- 主题选项中新增标签分组的开关；
- 新增标签分组清空并关闭的按钮；

### 其他更新

- 登出/注销按钮移至最顶部，为控制按钮区域腾出空间；
- 重写了顶部站点描述处的样式；
- 新增了首页URL参数API，可以用URL参数填充文章标题，内容和标签；
- 部分深色模式样式优化。



## 时光捕手2.9.5.6

2020年08月26日

- 更新jQuery.scrollTo的版本至2.1.2；
- 修正了顶部搜索按钮和上传视频按钮在英文版下因为字数问题导致的长度过长；
- 依据Wordpress最新标准，增加了样式和脚本的HTML5支持；
- 解决了当有置顶文章时，上传图片的计数会一直依据置顶文章的ID计算，导致超限后不能上传图片；
- JavaScript脚本依据新版Wordpress内置jQuery优化。



## 时光捕手2.9.5.4

2020年08月12日

- 增加了获取评论者的系统、浏览器信息功能，显示在评论下方。



## 时光捕手2.9.5.3

2020年08月12日

- 适配Wordpress新版5.5，修正不兼容问题。



## 时光捕手2.9.5.1

2020年07月22日

- 作者页面添加了背景图像，可在后台个人资料页进行设置；
- 后台首页的“时光捕手主题支持”小部件中的“最后更新时间”现已正确显示为当地时间。
- 按照最新的Wordpress主题标准修正了一些旧的表达和语法。



## 时光捕手2.9.5

2020年07月20日

- 图像模板现在可以正确显示外部图像了。
- 修正了pre，code，table和blockquote的样式。
- 简化长文展开和收缩的动画。



## 时光捕手2.9.4.9

2020年06月10日

- 修复一个/n不能转化为<br>的错误。
- 视频上传可以选择粘贴一个地址或者直接传到Wordpress媒体库。



## 时光捕手2.9.4.8

2020年06月01日

优化主题许可验证方式

- 当验证服务器传回错误或空白信息的时候，主题不理会，不变更激活状态。
- 当验证服务器离线或处于无响应状态时，不变更激活状态。
- 仅以下2种情况会自动反激活主题：
  - 验证服务器返回状态明确为“阻止”或“未授权”；
  - 在验证服务器中未查询到本地域名；
- 未激活状态的前端，不再出现红色提示，改为在后端进行提示。



## 时光捕手2.9.4.7

2020年05月30日

- 添加一个圆环作为字数指示器，从设定的最多字数到0，形成闭环。
- 添加了视频嵌入功能，暂时只接受外部视频链接插入，格式为mp4 ogg或webm。你需要一个速度快的视频源地址。
- 当文章发布后，所有临时的输入框隐藏，字数统计归零。
- 优化了删除文章或评论失败时候的体验。
- 添加了一个彩蛋，你能找到吗？



## 时光捕手2.9.4.6

2020年05月22日

- 对话模式！想体验孤独的最高境界吗？
- 更新了作者页面的样式，多了一些数据。
- 为视频文章做准备。



## 时光捕手2.9.4.5

2020年05月10日

- 如果你发布的文字较长，默认会截取一定字数，点击才会显示全文。
- 之前固定280字的字数指示器可以在后台设置任意字数了。
- 修复了标题不能截取正文文字的bug。
- 翻译更新。



## 时光捕手2.9.4.3

2020年05月06日

- 适应子主题，做出一些调整。
- 主题许可验证方式调整，减少误判反激活主题。
- 附件模板优化。

子主题下载地址：[点此](https://www.dukeyin.com/download/keep-minutes-2-child.zip)





## 时光捕手2.9.4.2

2020年05月05日

- 继续修正上传手机或相机照片旋转不正确的错误；



## 时光捕手2.9.4.1

2020年05月01日

- 修正了上传手机或相机照片旋转不正确的错误；
- 后台仪表盘小工具的信息调整。



## 时光捕手2.9.4

2020年04月21日

- 修正了一些在iPhone5、iPhoneSE这样的小屏幕上的自适应样式；
- 微调了一下黑暗模式的配色；
- 一些元素由ID变为Class，代码更工整；
- 修正了在新版Wordpress5.4下图片和画廊显示不正确的bug；
- 原本需要的两个插件：Infinite Scroll 和 jQuery smooth scroll已经整合进主题，这两个插件不用再装了；
- 图像-顺序 和 图像-画廊 这两个模板现已默认无限加载，地理位置模板也默认无限加载了。
- 后台选项页面添加加载中和载入完成文字自定义以及无限加载的总开关；
- 图像-画廊模板现与新版相册代码保持统一。
- 后台仪表盘增加主题版本指示器，方便小伙伴知道当前的最新版本。
- 新增了更新服务器，以后主题更新不需要从邮件接收了，直接在后台点更新即可。



## 时光捕手2.9.3

2020年03月09日

- 当获取地理位置时增加了获取当地天气的功能；
- 增加了43个天气图标，当设置天气信息为“显示”时，将在文章右上角显示发文时天气状况图标，含天气名和温度；
- 地理位置模板右上角也添加天气信息。
- 主题选项页添加天气API KEY设置，个人资料页添加是否显示天气的选项。
- 主题选项页调整了排版，更有条理。
- 修改了一些原有的图标，看上去更和谐了，删除了主题中多余的文件。
- 修改了“更多”标签的展示形式。
- 搜索结果页关键字高亮对于非英语语言更准确了。
- 标签页增加描述信息显示，在编辑标签处填写标签描述可在前端#标签页显示。



## 时光捕手2.9.2.8

2020年03月06日

- 修复了置顶文章在“签到模板”错误显示的bug；
- 浮动按钮增加“隐藏”选项，在个人资料页修改；
- “随机模板”更换了机制，目前不会出现随机不到文章的情况了。
- 版权验证频率降低。
- 优化了iframe的样式，所以优酷 腾讯视频 Bilibili 爱奇艺等视频的嵌入将会正常显示。



## 时光捕手2.9.2.7

2019年10月7日

### 内容输入

- 输入的内容（微博内容、评论）将在本地浏览器实时存储，当误关了浏览器，或误点击跳转到别的网页，再打开，之前输入的草稿内容依然存在。
- 取消了跳转时“有未保存草稿内容”的提示。
- 在正文中输入“#”自动识别为标签，发布时保存为标签，类似Twitter或微博。
- 当正文中有“#”时，只在正文中显示，末尾的标签不重复显示。

### 图片上传

- 非管理员用户，上传的图片会放进单独的用户名目录中。
- 非管理员用户，在媒体库中只能看到自己上传的媒体文件。
- 图片文件命名改为日期时间加两位随机字符。

### 版权保护

- 新增序列号验证机制，主题需要有序列号才能正常运行；
- 序列号的激活需要与远程服务器通讯，并且每隔一段时间验证序列号是否可用。

### 其他

- 文章中单个图片宽度超过315像素时，将缩小至315像素，点击放大，再点击缩小。
- 地理位置签到模板 每一条签到记录的右下角新增签到的时间



## 时光捕手 2.9.2.6

2019年9月27日

- 发布微博的时候会自带“小尾巴”，类似“发自 iPhone iOS Safari” “发自 Samsung AndroidOS Chrome”，仅移动设备和平板有效
- 个人资料新增选项是否获取设备信息：不获取，获取但不显示，获取且显示
- 优化了标签的输入方式，回车或英文逗号即可生成一个小区块，点击已有的标签删除。输入标签更容易了。
- 新增Gravatar CDN后台选项，可以根据自己需求选择最快的CDN。
- 原有的浮动按钮位置选项由主题全局选项变更为按帐号选项，多人使用的时候，可以各自根据需求选择居左或居右。
- 文字的段落和换行样式修正。
- 发送按钮变更为图标。
- 新的图片展示页面模板“图片-画廊”，使用WordPress原生相册结构，更可靠。



## 时光捕手 2.9.2.5

2019年9月18日



### English Version！



1. 英文版界面梳理，清理UI方面的bug；
2. 整合了Bing Map API，根据站点语言切换地图引擎，当选择为中文时使用腾讯地图，其他时候使用Bing Map；
3. 后台加入Bing Map API Key的输入框；
4. 完成了Bing Map API的签到：获取地址，POI，静态地图功能；
5. 英文版的交互词语优化。



![img](..\assets\english-geolocation.png)

Bing Map Geolocation English



![img](..\assets\chinese-geolocation.png)

腾讯地图地理位置签到



Bing Map的位置识别 API目前仅支持 Canada, Germany, Italy, Spain 和 USA，在这几个 国家和地区使用英文版地理位置毫无问题。后续微软会逐步增加。



加上中国，现在地理位置签到支持了6个国家。







## 时光捕手 2.9.2.4

2019年9月11日

1. 切换页面的时候，现在有淡出淡入渐变效果了。
2. 因为有了淡出淡入，删除了以前在单页上的淡出顶部和底部的效果。
3. 头部新增了Open Graph协议meta。
4. 名称下面后面增加了@用户名 为多人准备。
5. 主界面的底部动作按钮现在更灵活了，小屏幕设备时候等分，大屏幕居右。
6. 旧的iPhoneSE iPhone5的屏幕也能够很好的适应了。
7. 作者页面新增大头像、名称、用户名、个人简介及网址展示。
8. 个人资料内容新增“性别”选项，如果填写会在作者页面展示。
9. 新增了masonry图像展示模板，现在有三种方式展示图像了。
10. 抛弃旧的spin.js，用动画svg代替了后台指示器。
11. emoji的cdn换成了cloudflare，好像比以前快一丢丢。
12. “置顶文章”有了特殊的样式，新发布的文章和评论有了特定的样式。
13. 当本地接收到其他地方发布的文章，新的文章会从顶部出现并变黄（黑暗模式变亮），当页面发生滚动的时候还原本色。
14. jquery.jeditable.js更新到了最新版本。
15. 打开折叠所有评论的动画更顺滑了。
16. 手机评论框样式优化。
17. 修复一个图像模板的分栏在MacOS Safari中排列出错的bug。
18. “登出”按钮添加了弹出确认步骤。
19. 所有Textarea可以根据内容增加或减少高度了（之前只能增加）。包括：主输入框、评论框以及编辑内容框。
20. 单个微博添加了圆角效果。
21. 归档模板完善，当查看分类或年度月度的时候正常了。
22. 完善修正了一些翻译。完善了英文版的一些样式。



![img](..\assets\Capture2.png)

新文章



![img](..\assets\Capture.png)

新文章 深色模式



### “链接”文章增强：

1. 新增一个专门输入URL的输入框；
2. 当输完一个URL失去焦点的时候，自动解析这个URL并获得网址的标题、描述等信息；
3. 自动排版并填入主输入框，等待编辑、发布。

原本觉得“链接”文章没什么用，想要取缔，这样一来链接文章又重新获得了新生。



### 大扫除：主题文件精简

1. 取缔了百度分享功能，庞大statics文件夹全部删除，重做了分享功能。
2. Style.css太陈旧，累积了很多不必要的样式，为此，做了诸多清理和优化，从原有的1300多行减少到800多行，丢弃了所有侧边栏样式和被摒弃元素的样式，优化了所有input元素样式。
3. 合并了“点赞”“浮动按钮”“统计页数字跳动”效果的js文件，原本三个文件合并为一个，缩减了大小。

主题包由原来的800Kb+减少到500Kb



### 深色模式增强：

1. 深色模式的配色细节进行了调整，整体颜色更加深了。
2. 深色模式的浮动控制器统一为红色。
3. 当获取到在别的设备发布的微博或评论时，深色模式下也能高亮显示新内容了；
4. 一些输入框的样式正常了；
5. 修正了顶部展开菜单按钮的颜色。



## 时光捕手 2.9.2.3

2019年9月1日

- 修正：当第2+次上传图片时，上传功能依然有效。
- 修正：当输入框内有内容时再上传图片，图片代码会新增在旧内容之后（之前为替换）
- 新增：后台选项可填写最大图片尺寸(填写2-2000)，或全尺寸上传(填写1)
- 新增：后台选项可填写重设图片后的质量，0.1-1.0。
- 当新发布一条微博或收到通知时，会有一个音效，仅在桌面浏览时有效
- 新增：表情?emoji输入口。
- Gravatar七牛CDN大家反映更新有点慢，换成了v2ex的CDN，毕竟直接用Gravatar国内还是很慢



WordPress的emoji显示依赖于s.w.org（Wordpress自己的服务器）所以在国内访问会有些慢，正在寻找emoji的国内CDN，加快显示emoji的速度。

![img](..\assets\emoji.png)



## 时光捕手 2.9.2.2

2019年8月18日

- 新增了删除的“小垃圾桶”图标
- 完成了Ajax删除微博的功能；新增了Ajax删除评论的功能。
- 功能按钮的样式调整
- 新增在非ajax环境下删除文章或评论，同样也是点击小垃圾桶，虽然会刷新一下，但删除功能是正常的。
- 修改了上传图片出错的提示，由以前显示在文本框改为显示在错误框，并且国际化了语言。



## 时光捕手 2.9.2.1

2019年8月14日

- 新增一个快捷键“S”，在所有非单页处按下，会显示搜索框。
- 新增一个快捷键“Ctrl+Enter”，用于提交发布写好的微博。
- Ajax删除文章的功能有了一点眉目，但还是不正常，待继续。
- “深色模式”的所有图片由原来的降低透明度改为filter改明度（brightness），这样多图重叠时候效果正常了。



## 时光捕手2.9.2

2019年8月13日

- 感谢北邮 @haimenese 同学帮忙解决了**同时上传多图的时候，后几张图片会重复传多张**的bug。
- ToDo：着手新增一个功能：在前台Ajax删除一条微博或文章。



## 时光捕手2.9.1

2019年7月25日

- 原有的老标签用HTML5标签替换，基本符合HTML5规范，IE再见
- 切换类型为“文章”的时候，隐藏字数限制
- 签到列表样式修改



## 时光捕手2.9.0.3

2019年7月18日

- 切换文章类型的动画微调，比以前更顺滑了
- 发布文章后新文章出现的动画，以及新评论出现的动画更顺滑了
- 快捷键帮助提示和notify窗口提示更顺滑了，位置在桌面和手机都能正常
- 搜索方式变为在顶部显示
- 如果别的地方打开了网站，当收到新的微博，新微博会自动变为高亮色并加载到顶部，评论也一样。



## 时光捕手2.9.0.2

2019年7月16日

- 键盘快捷键修复 现在可以正常使用快捷键了
- 附件页面样式修正
- 多个权限逻辑修正



## 时光捕手2.9.0.1

2019年7月15日

- 新上传组件功能完善
- 当上传一张图的时候，输出为Wp图像区块，当大于一张图时输出相册区块
- 仍存在手机照片无法根据exif信息旋转的问题。
- 手机拍摄的照片，可以正确的旋转了（ 感谢北邮 @haimenese 同学 ），上传图之前会先重设大小之后再上传，目前默认压缩宽度到800px，高度自动，可手动调整压缩的尺寸



![img](..\assets\gallery-upload.png)



## 时光捕手2.9.0

2019年7月10日

插图功能：

- 取消原有嵌入媒体库的做法
- 改为Ajax直接传图，在服务端附加图片到媒体库，文件取随机名字
- 目前一次只能上传一张图片，相册及多图需要后台编辑。
- 计划：前端HTML压缩图片到指定大小再上传



其他：

- 新增浮动按钮，可以在首页任意地方进行签到、插图、写字操作
- 桌面主题的自适应样式修正
- 签到功能和地图显示完善，新增“插入地图”按钮
- 统计页面的访问次数数字 大于1000时候，改为万单位显示
- 5G时代就要来了，下一步**计划取消手机主题。**用一个主题自适应。



- ![img](..\assets\float-button.png)
- ![img](..\assets\statistics.png)
- ![img](..\assets\locations-dark.png)



## 时光捕手2.8.0

*2019年6月23日*

- 不再依赖p2主题，作为单独的主题发布
- 页面宽度扩大为860px
- 统计页模版重写
- 后台管理面板由原有两个面板合并为一个
- 所有头像变更为gravatar头像，不用再上传图片，请自行测试速度。
- 多处css及js修正
- 重写了相册图片的样式，现在可以任意分栏了
- 内置了Lightbox效果，现在无需安装插件即可有lightbox效果了
- 分享功能已内置，不用单独添加static目录了
- 取消百度统计，改为后台填写代码，现在可以使用其他任意统计代码了
- 深色模式



![img](..\assets\dark-mode.png)



## 时光捕手2.7.3

*2019年3月15日*

- 修正了偶尔发布微博会出现两个内容的bug。
- 修正了在桌面主题会不显示“博客”类型文章的标题的bug。
- 没了



## 时光捕手2.7.2

*2019年3月13日*

- 修正了 WordPress 5.1.1 中桌面主题评论功能失效的问题。
- 修正了发布“博客”内容，不会显示标题的问题。目前发“博客”类型的文章（standard）在手机及桌面均会显示标题。
- 修正了手机主题的页面不会显示标题的bug。
- 修正了手机主题某些模板和页面不显示发布时间的bug。
- 桌面主题新增一个“full-editor”模板，这样设置手机发图片模板时，不必再切换到手机主题。
- 修正了在PHP 7.3环境下前端每一篇微博出现警告提示的错误。
- 不再继续支援PHP 7以下的版本。
- 一些细节的修正



## 时光捕手2.7

*2018年8月14日*

- 彻底摆脱“WPjam Basic” 这个插件，现在使用时光捕手不需要安装此插件了，也不需要注册七牛账户。拿到主题直接使用。用户可自行选择是否连接七牛或其他的CDN。
- 内置了新的切图插件，依靠Wordpress内部机制处理图像，安全稳定，不依赖第三方。
- 修复了多处代码的错误和Wordpress标准错误。
- 制作了全英文版以及相应的中文语言包，主题语言随Wordpress后台设置改变。
- 手机主题新增打开、评论以及点赞按钮。
- 字数限制从140扩大为280个字。
- 一些细节的修正



## 时光捕手2.6

*2018年5月11日*



![img](..\assets\keepmins2dot6screenshot.png)



### 后台新增全新控制面板，针对各项细节进行自定义：

- 签到地理位置所需的“腾讯地图API密匙”，现在可以在后台填自己的了。
- SEO部分的关键字、描述以及作者，可以在面板上填写自己站点的信息，更加利于SEO。
- 不用再替换头像啦，现在可以在控制面板填一条图像URL，全站（包括手机版）调用做头像，换头像更方便了。（Gravatar慢，坚持不用。）
- 百度统计代码只需要填你的编号，即可发挥作用，如果你不需要，直接留空就不会加载百度的js了。
- 统计模板有一个“站点在线时间”，目前可以在后台填写站点成立日期，计算更准确了。
- 备案编号可以直接在后台填写，全站调用。
- 所有的自定义信息，桌面版和手机版只需填写一次，两个版本同时调用。



### 新增模板

- 新增“地理位置列表”模板，后台新建页面，选择geo-list模板，保存发布即可，可以将所有地理位置签到列出来，类似这样的效果。
- 新增“站点地图”模板，后台新建页面，选择sitemap模板，类似这样的效果。
- 完善了“图片列表”模板，images模板，类似这样的效果。



### 细节修正

- 桌面版首页的搜索功能可以使用了。
- 每一个微博卡片的阴影变化更自然了。
- 修复统计页面的访问量数字不能出现动画的bug。
- 桌面版和手机版旧版css移除，精简了新的style.css，所有语句尽量精炼，缩小了文件大小。
- 主题的各个文件精简了代码，移除多余的换行和空格，缩小了文件大小。
- 修正了一些错误的链接和映射关系。
- 所有写死的链接移除，替换为函数，根据各人网站适配。
- 桌面版发布文字左边的头像，目前和后台设置联动了。
- 手机版目前第一篇微博的字体略微放大，页面配色略微有调整。
- 更新了主题的缩略图，在后台安装后主题列表中可见。





## 时光捕手2.3

*2014年10月23日*

- 之前靠插件选择分类，觉得太累赘，就取消了。
- 调整了大部分的页面样式，调整了很多配色
- 决定制作类似Foursquare的地理位置签到功能，经过测试选择了腾讯地图，大部分功能实现但有bug。
- 头像加了样式，显示为圆形。
- 字数统计的数字变大，更显眼了。当字数快要达到限制的时候会显示为橙色及红色。
- 重写了手机主题，基本与桌面主题一致，并且不依赖任何第三方插件。



## 时光捕手2.0

*2014年9月23日*



![img](..\assets\km2_screenshot.jpg)



- 重新设计界面，卡片设计，矢量图标
- 响应式设计优化，无需移动主题，在绝大部分桌面和移动设备端都可以完美呈现，精心为移动设备优化
- “1.0系列”停止更新



## 时光捕手1.3

*2014年7月17日*



- 网站所有图标均由原先gif位图替换为矢量字体图标，Retina屏幕不失真；
- 单篇微博的阅读，评论，编辑三个功能增加矢量图标，并适应屏幕大小隐藏/显示标签；
- 发布微博界面新增“分类”下拉选项，现在发微博可以直接选文章分类了；
- 解决了上个版本“不能在前台直接编辑并更新微博”的问题；
- 导航菜单颜色和样式美化；
- 桌面版注销按钮现在移至发布框右上角；
- 增加大部分元素的过渡动画；
- 文章页评论框默认改为关闭，点击评论按钮则显示；
- 主题名正式更换为“Keep Minutes”目录结构变化；
- 时光捕手主网站域名已由原先“t.dukeyin.com”变为“www.keepmins.com”,改用阿里云服务器，访问速度提升。



## 时光捕手1.2

*2014年7月3日*

- 添加“随机微博”页面模板，可以在所有日志中随机显示一篇微博；
- 主题中内置Google字体Open Sans供前端调用，不访问Googlefonts,极大加速页面载入速度；
- 前端使用OpenSans字体，更加美观；
- 前端改写为Responsive Design，自适应小屏幕设备，在小屏幕非手机主题上文字大小不变，框架适应，头像缩小，诸多其他元素优化；
- Logo采用矢量字体，iPhone iPad等retina屏幕绝不失真；
- 手机主题中添加“菜单”，可以在WP后台自定义菜单项；
- 手机主题中“随机微博”功能优化，完全适应手机主题。



## 时光捕手1.1

*2014年5月24日*

- iOS7 扁平风格手机主题，更简洁，更美观；
- 手机默认不载入微博图像，提升手机加载速度，减少流量；
- 手机主题中加入“登出”（Logout）按钮，现在在手机中也能自由登录登出；
- 手机和桌面主题均加入“X分钟前”，“X天前”等人类可阅读时间，不超出一周的微博显示为人类可阅读时间，超过一周的微博显示为正常时间；
- 桌面主题中，微博加入百度分享，可以让读者分享到各大社交网络；
- 诸多Bug修复，样式完善。



## 时光捕手1.0

*2013年5月26日*



![img](..\assets\ktm_1.jpg)

- 重新设计了界面，摒弃侧边栏，延续了Beta的灰色蓝色基本配色；
- 作为wordpress免费主题P2的子主题进行开发；
- 实现了准确的140字限制实时判断；
- 摒弃了部分P2的文章分类，仅保留状态和引用；
- 借助P2，可以实现@对话以及实时显示新微博与评论；
- 延用Beta的Infinite瀑布流效果，摒弃AJAX page loader。



## 时光捕手 beta

*2012年8月13日*



![img](..\assets\ktm_beta-1024x870.jpg)

- 现有口号 Discover and Keep the minutes, 故将项目名称定为 Keep The Minutes;
- 实现了前台的登录和发布界面；
- 用Infinite Scroll和Advanced AJAX Page Loader实现了页面免刷新；
- Wptouch pro实现了手机界面；